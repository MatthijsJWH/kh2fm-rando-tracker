doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    meta(name="description" content="Tracker for the KH2FM Randomiser")
    title KH2FM Item Tracker
    link(rel="stylesheet" href="css/style.css")
    link(href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;1,400&display=swap" rel="stylesheet")
    script(src="js/theme.js")
    // preload images so they appear faster on first visit
    each img in preloadImages
      link(rel="preload" href=`img/${img}` as="image")

  body
    .grid
      each item, file in items
        .item(
          data-total=item.total
          data-group=item.group
        )
          img.icon(src=`img/${file}.png`)

          if item.total
            img.number

          if item.data
            img.nobody(src="img/nobody.png")

          if item.secondary
            if Array.isArray(item.secondary)
              img.secondary(
                data-files=JSON.stringify(item.secondary)
                class=item.secondaryClass
              )
            else
              img.secondary(
                src=`img/secondary/${item.secondary}.png`
                class=item.secondaryClass
              )

    footer
      .container
        .info Kingdom Hearts 2 Final Mix Item Tracker - Version 1.2.18
        .buttons
          .popup
            button About
            .content
              .body
                p This is a tracker intended for use with the 
                  a(href="https://randomizer.valaxor.com" target="_blank") Kingdom Hearts 2 Final Mix Randomizer
                  |  by Valaxor, for the 
                  a(href="https://docs.google.com/document/d/1GYjEnrM_TIk7qyO75clPLYD-_nP5wTR7K6SE-Wn-QCg/edit" target="_blank") Garden of Assemblage (GoA) mod
                  |  by Sonicshadowsilver2.
                p It allows the tracking of progress such as world completion, drive forms, magic, etc. For a more detailed explanation, see Help.
                p It was initially developed by Kokemon198, however has since largely been rewritten by Zax with an entirely different codebase.
                p The GitHub repository with the code for this site can be found 
                  a(href="https://github.com/zaxutic/kh2fm-rando-tracker" target="_blank") here
                  | .
                p If you have any questions/issues you can reach out through Discord (ping me in the <a href="https://discord.gg/GcJR7Fv" target="_blank">rando server</a>), Twitter (<a href="https://twitter.com/zaxuwu" target="_blank">@Zaxuwu</a>), or GitHub.

          .popup
            button Help
            .content
              .body
                h3 Left Click
                p Item will become activated, lighting up to full opacity.
                p When clicking on a world more than once, if applicable, a number will appear in the bottom right indicating how many visits have been completed. Drive, magic, and summons have similar systems for levels.
                p After all visits have been completed, clicking again will either trigger a Nobody symbol in the top left, for defeat of the Data Org/Absent Sillhouette fight, or reset the cell back to its original state.
                p.footnote Note: 'Visits' for Atlantica/100 Acre Wood represent not whole world completion but segment completion. That is, song completion for Atlantica (including the tutorial), and pages for 100 Acre Wood.

                h3 Right Click
                ul.definitions
                  li
                    .base Hollow Bastion
                    .definition Sephiroth
                  li
                    .base Disney Castle
                    .definition Lingering Will/Terra
                  li
                    .base Drive Forms
                    .definition Auto Abilities (e.g. Auto Valor)
                  li
                    .base The World That Never Was
                    .definition Roxas, Xigbar, Luxord, Sa√Øx

                h3 Middle Click
                p A red cross will be put over the item. This can be used if a world/item is disabled in the seed, or if your teammate has completed a world in a co-op run. (Just use it however you want)

          .popup
            button Settings
            .content
              .body
                .row
                  p Dark Theme
                  label.switch
                    input#theme(type="checkbox")
                    span.slider

                .row
                  p Scroll Wheel Increment/Decrement
                  label.switch
                    input#scroll(type="checkbox")
                    span.slider

                .row
                  p Custom Grid Columns
                  input#columns

                .row
                  p.footnote Note: In some browsers, using the tracker as a local file may not allow settings to persist across sessions

    script(src="js/main.js")
    script(src="js/footer.js")
