"use strict";var socket,messageHandler=function(a){var b=JSON.parse(a.data);switch(b.type){case"room_created":{var c=b.id;console.log("Room created with ID ".concat(c));var d=$("#room_id");d.classList.add("active"),d.innerHTML="Created room with ID: <code>".concat(c,"</code> (Give this to your teammates!)");break}case"room_joined":{b.id;break}case"user_joined":{var e=$(".grid").cloneNode(!0);e.dataset.userId=b.id,$("main").appendChild(e);break}case"user_left":{$(".grid[data-user-id=\"".concat(b.id,"\"]")).remove();break}case"error":{var f=$("#co_op_message");f.classList.add("active"),f.innerHTML="Error: ".concat(b.message)}case"user_primary":{var g=$(".grid[data-user-id=\"".concat(b.id,"\"]")).children[b.item];handlePrimary({currentTarget:g},b.offset);break}case"user_secondary":{var h=$(".grid[data-user-id=\"".concat(b.id,"\"]")).children[b.item];handleSecondary({currentTarget:h});break}case"user_disable":{var i=$(".grid[data-user-id=\"".concat(b.id,"\"]")).children[b.item];handleDisable({currentTarget:i});break}}};$("#co_op_join").onsubmit=function(){try{socket=new WebSocket("wss://tracker-ws.zaxu.xyz")}catch(b){var a=$("#co_op_message");return a.classList.add("active"),void(a.innerHTML="Could not connect to websocket server. (Server may be down)")}return socket.addEventListener("open",function(){socket.send(JSON.stringify({type:"join_room",room:$("#co_op_join input").value}))}),socket.addEventListener("message",messageHandler),!1},$("#co_op_create").onsubmit=function(){try{socket=new WebSocket("wss://tracker-ws.zaxu.xyz")}catch(b){var a=$("#co_op_message");return a.classList.add("active"),void(a.innerHTML="Could not connect to websocket server. (Server may be down)")}return socket.addEventListener("open",function(){var a=parseInt($("#co_op_create input").value);if(!a){var b=$("#co_op_message");b.classList.add("active"),b.innerHTML="Invalid or no size given, using default of 2.",a=2}socket.send(JSON.stringify({type:"create_room",size:a}))}),socket.addEventListener("message",messageHandler),!1};

//# sourceMappingURL=co_op.js.map