"use strict";function handlePrimary(event){var _elem$dataset$total,_elem$dataset$level;var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var elem=event.currentTarget;if(elem.classList.contains("disabled"))return;var nobody=elem.querySelector(".nobody");var total=Number((_elem$dataset$total=elem.dataset.total)!==null&&_elem$dataset$total!==void 0?_elem$dataset$total:1)+Boolean(nobody);var end=total+1;var level=Number((_elem$dataset$level=elem.dataset.level)!==null&&_elem$dataset$level!==void 0?_elem$dataset$level:0);if(level===0||elem.querySelector(".icon").classList.contains("opaque"))level=(level+(end+offset)%end)%end;elem.dataset.level=level;if(nobody&&level===total&&offset>0)return nobody.classList.add("opaque");var group=elem.dataset.group;var elems=group?document.querySelectorAll("[data-group=\"".concat(group,"\"]")):[elem];elems.forEach(function(groupElem){groupElem.dataset.level=level;var icon=groupElem.querySelector(".icon");var number=groupElem.querySelector(".number");var nobody=groupElem.querySelector(".nobody");if(level>1)number===null||number===void 0?void 0:number.setAttribute("src","img/numbers/".concat(level,".png"));switch(level){case 0:if(elem===groupElem)icon.classList.remove("opaque");number===null||number===void 0?void 0:number.classList.remove("opaque");nobody===null||nobody===void 0?void 0:nobody.classList.remove("opaque");break;case 1:if(elem===groupElem)icon.classList.add("opaque");number===null||number===void 0?void 0:number.classList.remove("opaque");break;default:if(elem===groupElem)icon.classList.add("opaque");number===null||number===void 0?void 0:number.classList.add("opaque");break;}})}function handleSecondary(event){var _secondary$dataset$in;var elem=event.currentTarget;if(elem.classList.contains("disabled"))return;var secondary=elem.querySelector(".secondary");if(!secondary)return;var files=secondary.dataset.files;if(!files)return secondary.classList.toggle("opaque");files=JSON.parse(secondary.dataset.files);var index=Number((_secondary$dataset$in=secondary.dataset.index)!==null&&_secondary$dataset$in!==void 0?_secondary$dataset$in:0)+1;if(index%(files.length+1)===0)index=0;else secondary.setAttribute("src","img/secondary/".concat(files[index-1],".png"));if(index<2)secondary.classList.toggle("opaque");secondary.dataset.index=index}function handleDisable(event){event.currentTarget.classList.toggle("disabled")}document.querySelectorAll(".grid > div").forEach(function(elem){elem.onmousedown=function(event){switch(event.button){case 0:handlePrimary(event);break;case 2:handleSecondary(event);break;case 1:handleDisable(event);break;}};elem.oncontextmenu=function(event){return event.preventDefault()};elem.onwheel=function(event){if(localStorage.scroll!=="true")return;event.preventDefault();var offset=event.deltaY<0?1:-1;handlePrimary(event,offset)}});document.body.onmousedown=function(event){if(event.button===1)return false};
