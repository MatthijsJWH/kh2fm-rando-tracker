function handlePrimary(e,t=1){const l=e.currentTarget;if(l.classList.contains("disabled"))return;const o=l.querySelector(".icon"),a=l.querySelector(".number"),c=l.querySelector(".nobody");let s=Number(l.dataset.level)||0,n=l.dataset.total||1;const r=(n=Number(n)+Boolean(c))+1;if(s=(s+(r+t)%r)%r,l.dataset.level=s,null===c||s!==n)switch(null!==a&&s>1&&a.setAttribute("src",`img/numbers/${s}.png`),s){case 0:o.classList.remove("opaque"),a&&a.classList.remove("opaque"),c&&c.classList.remove("opaque");break;case 1:o.classList.add("opaque"),a&&a.classList.remove("opaque");break;default:o.classList.add("opaque"),a&&a.classList.add("opaque")}else c.classList.add("opaque")}function handleSecondary(e){const t=e.currentTarget;if(t.classList.contains("disabled"))return;const l=t.querySelector(".secondary");if(null===l)return;let o=l.dataset.files;if(void 0===o)return void l.classList.toggle("opaque");o=JSON.parse(l.dataset.files);let a=Number(l.dataset.index)+1||1;a%(o.length+1)==0?a=0:l.setAttribute("src",`img/secondary/${o[a-1]}.png`),a<2&&l.classList.toggle("opaque"),l.dataset.index=a}function handleDisable(e){e.currentTarget.classList.toggle("disabled")}function handleWheel(e){e.preventDefault(),e.deltaY>0?handlePrimary(e):handlePrimary(e,-1)}document.body.onmousedown=(e=>{if(1===e.button)return!1});const scrollElem=document.getElementById("scroll");scrollElem.checked=localStorage.scroll,scrollElem.onchange=(e=>{let t;const l=e.target.checked;t=!0===l?handleWheel:null,localStorage.scroll=l,document.querySelectorAll(".grid > div").forEach(e=>{e.onwheel=t})}),document.querySelectorAll(".grid > div").forEach(e=>{e.onmousedown=(e=>{switch(e.button){case 0:handlePrimary(e);break;case 2:handleSecondary(e);break;case 1:handleDisable(e)}}),e.oncontextmenu=(e=>{e.preventDefault()})}),document.querySelectorAll("footer .popup > button").forEach(e=>{e.onclick=(t=>{e.nextElementSibling.classList.toggle("active")})}),document.querySelectorAll("footer .popup > .content").forEach(e=>{e.onclick=(t=>{e===t.target&&e.classList.remove("active")})}),document.onkeydown=(e=>{if("Escape"===e.key){const e=document.querySelector("footer .popup > .content.active");null!==e&&e.classList.remove("active")}});const themeElem=document.getElementById("theme");themeElem.checked="dark"===theme,themeElem.onchange=(e=>{!0===e.target.checked?theme="dark":theme="light",setTheme()});