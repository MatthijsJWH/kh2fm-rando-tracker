function handleLeftClick(e){const t=e.currentTarget,o=t.querySelector(".icon"),c=t.querySelector(".number"),a=t.querySelector(".nobody");let l=Number(t.dataset.level)||0,n=t.dataset.total||1;if(l=(l+1)%((n=Number(n)+Boolean(a))+1),t.dataset.level=l,null===a||l!==n)switch(null!==c&&l>1&&c.setAttribute("src",`img/numbers/${l}.png`),l){case 0:o.classList.remove("opaque"),c&&c.classList.remove("opaque"),a&&a.classList.remove("opaque");break;case 1:o.classList.add("opaque");break;case 2:c.classList.add("opaque")}else a.classList.add("opaque")}function handleRightClick(e){const t=e.currentTarget.querySelector(".secondary");t&&t.classList.toggle("opaque")}document.querySelectorAll(".grid > div").forEach(e=>{e.onmousedown=(e=>{switch(e.button){case 0:handleLeftClick(e);break;case 2:handleRightClick(e)}}),e.oncontextmenu=(e=>{e.preventDefault()})}),document.querySelectorAll("footer .popup > button").forEach(e=>{e.onclick=(t=>{e.nextElementSibling.classList.toggle("active")})}),document.querySelectorAll("footer .popup > .content").forEach(e=>{e.onclick=(t=>{e===t.target&&e.classList.remove("active")})}),document.onkeydown=(e=>{if("Escape"===e.key){const e=document.querySelector("footer .popup > .content.active");null!==e&&e.classList.remove("active")}}),document.getElementById("theme-btn").onclick=(e=>{"light"===theme?(theme="dark",e.target.innerHTML="Light Theme"):(theme="light",e.target.innerHTML="Dark Theme"),setTheme()});